<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>WS Test</title>
</head>
<body>
<h1>WebSocket Test</h1>
<div id="log"></div>
<input id="msg" placeholder="Type a message">
<button onclick="sendMsg()">Send</button>

<script>
const logDiv = document.getElementById("log");
function log(msg) {
    const p = document.createElement("p");
    p.textContent = msg;
    logDiv.appendChild(p);
}

// –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
let ws = new WebSocket("ws://localhost:8089/ws");

ws.onopen = () => log("‚úÖ Connected to server");
ws.onmessage = (msg) => log("üì® " + msg.data);
ws.onclose = () => log("‚ùå Disconnected");
ws.onerror = (err) => log("‚ö†Ô∏è Error: " + err);

// –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
function sendMsg() {
    const input = document.getElementById("msg");
    if(ws.readyState === WebSocket.OPEN) {
        ws.send(input.value);
        input.value = "";
    }
}
</script>
</body>
</html>
